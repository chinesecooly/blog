user  root;
worker_processes  2;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    server {
     listen 443 ssl;
     server_name ningyu.ink;
     #请填写证书文件的相对路径或绝对路径
     ssl_certificate  /etc/nginx/ssl/ningyu.ink_bundle.crt;
     #请填写私钥文件的相对路径或绝对路径
     ssl_certificate_key /etc/nginx/ssl/ningyu.ink.key;
     ssl_session_timeout 5m;
     #请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。
     ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
     #请按照以下协议配置
     ssl_protocols TLSv1.2 TLSv1.3;
     ssl_prefer_server_ciphers on;
        location / {
          proxy_pass http://blog:8000/test/log;
        }
    }

    server {
        listen       80;
        server_name  ningyu.ink;
        return 301 https://$host$request_uri;
    }
}
